---
format: 
  revealjs:
    css: ../../styles.css
    slide-number: true
    show-slide-number: all
    preview-links: false
    progress: true
    history: true
    hash-type: number
    theme: default
    code-block-background: true
    highlight-style: zenburn
    code-link: false
    code-copy: true
    code-line-numbers: false
    controls: true
    pagetitle: "Multilevel Modeling"
    author-meta: "Jeffrey Girard"
    semester: "Spring 2026"
    course: "PSYC 894"
    lecture: "01b"
execute:
  echo: true
  eval: true
  collapse: false
  cache: false
---

::: {.my-title}
# [Multilevel Modeling]{.blue}
Course Overview and Workflow Recap

::: {.my-grey}
[{{< meta semester >}} | CLAS | {{< meta course >}}]{}<br />
[Jeffrey M. Girard | Lecture {{< meta lecture >}}]{}
:::

![](../../img/city-girl.svg){.absolute bottom=30 right=0 width="400"}
:::


## Roadmap

::: {.columns .pv4}

::: {.column width="60%"}
1. Syllabus Review
  
2. Course Modules

3. Course Website

4. Activity
:::

::: {.column .tc .pv4 width="40%"}
{{< lif "../../icons/map.json" trigger=hover colors=secondary:#2a76dd class=rc >}}
:::

:::


# Syllabus Review

## Instructor Information {.smaller}

::: {.columns}
::: {.column width="30%"}
::: {.tc}
![](../../img/Girard_500x500.jpg){.br-100}

**Jeffrey Girard**, PhD<br /> 
[affcom.ku.edu/girard](https://affcom.ku.edu/girard)<br /> 
[jmgirard\@ku.edu](mailto:jmgirard@ku.edu)<br />
Fraser Hall 454
:::
:::

::: {.column width="10%"}
:::

::: {.column width="60%"}
::: {}
**Background**

-   [Associate Professor]{.b .green}, *Department of Psychology*
-   Brain, Behavior, and Quantitative Science
-   Clinical Psychological Science
-   Kansas Data Science Consortium
:::
::: { .mt1}
**Research Areas**

-   Affective Computing
-   Mental and Social Health
-   [Applied Statistics]{.b .green} and Machine Learning
-   Data Science and Software Engineering
:::
:::
:::

::: {.footer}
Office Hours: T 3-4pm, F 12-1pm (odd weeks) or 1-2pm (even weeks)
:::


## Learning Outcomes {.smaller}

1. Learn fundamental concepts underlying multilevel modeling

2. Learn practical skills for implementing such models in R

3. Instill a sense of mastery, curiosity, and fun

::: {.columns}
::: {.column width="50%"}

**What you [will]{.blue} learn here**

- When and why MLM is needed

- Data prep and model building

- Diagnostics and interpretation

- Exposure to advanced topics

- Exposure to alternatives

:::

::: {.column width="50%"}

**What you [won't]{.red} learn here**

- Mastery of longitudinal models

- Mastery of nested and crossed models

- Mastery of Bayesian estimation

- Mastery of Extensions (GLMM, GAMM)

- Mastery of Alternatives (WLS, GEE)

:::
:::


## Course Materials {.smaller}

#### Textbooks
- **Introduction to Multilevel Modeling** \[S\&F\]\*<br />
  Shaw \& Flake (2021, 1E, [www.learn-mlms.com](https://www.learn-mlms.com), *free*)

- **Multilevel analysis: Techniques and applications** \[HMV\]<br />
  Hox, Moerbeek, \& van de Schoot (2017, 3E, [www.taylorfrancis.com](https://doi.org/10.4324/9781315650982), *paid*)
  
- **R for Data Science: Import, tidy, transform, visualize, and model data** \[WCG\]<br />
  Wickham, Çetinkaya-Rundel, \& Grolemund (2023, 2E, [r4ds.hadley.mz](https://r4ds.hadley.nz/), *free*)

#### R Packages
- Frequentist Model Fitting: [lme4](https://github.com/lme4/lme4/)\*, [glmmTMB](https://glmmtmb.github.io/glmmTMB)
- Bayesian Model Fitting: [rstanarm](https://mc-stan.org/rstanarm/), [brms](https://paulbuerkner.com/brms/)
- Utilities and Visualization: [easystats](https://easystats.github.io/easystats)\*, [ggeffects](https://strengejacke.github.io/ggeffects/)\*
  

## Grading Policies {.smaller}

#### Graded Components

- 66\% [Lab Reports]{.b .green} (6\% each $\times$ 11) - Practice skills and concepts from lecture

- 22\% [Reflections]{.b .green} (2\% each $\times$ 11) - Summarize and consolidate learning from reading

- 12\% [Final Project]{.b .green} (12\% each $\times$ 1) - Apply skills to real-world data

#### Grading Scale

| Letter    | A   | A−  | B+  | B   | B−  | C+  | C   | C−  | D+  | D   | D−  |
|-----------|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| G. Points | 4.0 | 3.7 | 3.3 | 3.0 | 2.7 | 2.3 | 2.0 | 1.7 | 1.3 | 1.0 | 0.7 |
| Threshold | 93% | 90% | 87% | 83% | 80% | 77% | 73% | 70% | 67% | 63% | 60% |

I don't round or curve grades, but will give points back if a question was poorly designed.

## Course Policies {.smaller}
#### Attendance
- In-person attendance is [strongly encouraged]{.b .green} but not required

- Video recordings will be attempted but cannot be guaranteed

#### Late Submissions
- Detailed on each rubric, partial credit is possible for late submissions

- However, no late submissions will be accepted after Stop Day (May 9)

#### Academic Misconduct
- [Acceptable:]{.blue} peers, tutors, technology used to explain or troubleshoot

- [Unacceptable:]{.red} peers, tutors, technology used to complete assignments

- You must use the skills and tools taught in class to solve the lab reports

## Course Materials

#### Canvas
- Has assignments, grades, videos, and textbook PDFs
- <https://canvas.ku.edu/courses/182539>

#### Website
- Has topics, ebook links, datasets, and slideshows
- <https://jmgirard.github.io/psyc894>
- Note this may be renamed `psyc892` next year

<!-- Course Modules -->

# Course Modules

## Unit A Overview
- Week 01: Course Overview and Recap of R
    + *No deadlines*
- Week 02: Recap of Linear Modeling
    + *Lab Report* only
- Week 03: Clustering Issues and Approaches
    + *Reflection* and *Lab Report*
- Week 04: Data Prep and Estimation
    + *Reflection* and *Lab Report*

## Unit B Overview
- Week 05: Random/Varying Intercepts
    + *Reflection* and *Lab Report*
- Week 06: Random/Varying Slopes
    + *Reflection* and *Lab Report*
- Week 07: Cross-level Interactions
    + *Reflection* and *Lab Report*
- Week 08: Translation Activity
    + *Reflection* only

## Unit C Overview
- Week 09: Spring Break
    + *No deadlines*
- Week 10: Model Comparison
    + *Reflection* and *Lab Report*
- Week 11: Longitudinal Analyses
    + *Reflection* and *Lab Report*
- Week 12: Diagnostics and Reporting
    + *Reflection* and *Lab Report*

## Unit D Overview
- Week 13: Troubleshooting and Bayes
    + *Reflection* and *Lab Report*
- Week 14: Advanced Previews
    + *Reflection* and *Lab Report*
- Week 15: Project Work
    + *No deadlines*
- Week 16: Project Work
    + *Project Report*

<!-- Workflow Recap -->

# Workflow Recap

## The R Ecosystem {.smaller}

::: {.columns .pv4}
::: {.column width="60%"}
1.  Think of your [computer]{.b .blue} as the [engine]{.b .green} of a car
    -   It provides raw power for computation

::: {.fragment .mt1}
2.  The [R language]{.b .blue} is like the [controls]{.b .green} for the car
    -   It lets you apply and direct that power
:::

::: {.fragment .mt1}
3.  [RStudio]{.b .blue} is like a fancy [dashboard]{.b .green} for the car
    -   It adds extra information and convenience
:::

::: {.fragment .mt1}
4.  An [R package]{.b .blue} is like an [add-on]{.b .green} for the car
    -   It adds new features and capabilities
:::
:::

::: {.column .tc .pv5 .relative width="40%"}
{{< lif "../../icons/car.json" trigger=hover colors=secondary:#2a76dd class=rc >}}
:::
:::

## Communicating with R {.smaller}

::: {.columns .pv4}
::: {.column width="60%"}
-   The [Console]{.b .blue} is like a [chat window]{.b .green} with R
    -   You send a command to R and get a response
    -   Neither side of the conversation is saved

::: {.fragment .mt1}
-   An [R Script]{.b .blue} is like an [email thread]{.b .green} with R
    -   You send many commands to R all at once
    -   Only your side of the conversation is saved
:::

::: {.fragment .mt1}
-   A [Quarto Document]{.b .blue} is like a [scrapbook]{.b .green} with R
    -   You can combine code and formatted text
    -   Both sides of the conversation are saved
:::
:::

::: {.column .tc .pv5 width="40%"}
{{< lif "../../icons/converse.json" trigger=hover colors=secondary:#2a76dd class=rc >}}
:::
:::


# Projects

## File Management {.smaller}

::: {.columns .pv4}
::: {.column width="60%"}
-   [Projects]{.b .blue} are [special folders]{.b .green} on your computer
    -   They contain all files related to a task
    -   They keep everything together and organized

::: {.fragment .mt1}
-   Projects make it easy to [find and use your files]{.b .green}
    -   No need to specify long, annoying file paths
    -   No need to worry about working directories
:::

::: {.fragment .mt1}
-   Projects make it easy to [switch between tasks]{.b .green}
    -   They will remember exactly where you left off
    -   You can even open multiple projects at once
:::
:::

::: {.column .tc .pv5 width="40%"}
{{< lif "../../icons/box.json" trigger=hover colors=secondary:#2a76dd class=rc >}}
:::
:::

::: {.aside}
*Note.* Save your project in a cloud service folder (e.g., Box, Dropbox, Google Drive, OneDrive) to backup and sync it.
:::


## Create a new Project {.fsmaller}

- Open the "File" menu in RStudio
- Select the "New Project..." option
- Select the "New Directory" option
- Select the "New Project" option
- Name the directory "PSYC 894" or "MLM" (or whatever)
- Browse to where to create your Project folder

## Create a new File {.fsmaller}

- Explore the Files tab in the Extras pane
- Create a New File (e.g., a script) as an example
- RStudio will automatically create it in your project folder
- Add some text to the example file (e.g., "# Hello World")
- Save the file and note that it defaults to your project folder
- Close the script with the "x" icon
- Reopen the script from the Files tab

## Close and Open Projects {.fsmaller}

- Open the "File" menu in RStudio
- Select the "Close Project" option
- Notice that your work is now gone
- Open the "File" menu in RStudio
- Select the "Open Project" option
- Browse to your project folder
- Open the .Rproj file (e.g., PSYC 399.Rproj)
- Notice that your work is now back!

## Quarto {.smaller}

::: {.columns .pv4}
::: {.column width="60%"}
-   [Quarto](https://www.quarto.org) is a scientific/technical publishing system

::: {.fragment .mt1}
-   Create dynamic content (e.g., code, output, and markdown) with R, Python, Julia, and Observable
:::

::: {.fragment .mt1}
-   Articles, reports, slideshows, websites, blogs, and books in HTML, PDF, MS Word, and ePub formats
:::

::: {.fragment .mt1}
-   Include equations, citations, crossrefs, figure panels, callouts, advanced layouts, etc.
:::
:::

::: {.column .tc .pv5 width="40%"}
{{< lif "../../icons/poetry.json" trigger=hover colors=secondary:#2a76dd class=rc >}}
:::
:::

## Create an Quarto Document {.smaller}
  - Open the "File" menu in RStudio
  - Select the "New File" option
  - Select the "Quarto Document..." option
  - Keep the defaults (HTML) and hit "Create"
  - Open the "File" menu
  - Select the "Save" option
  - Note that it defaults to the project folder
  - Give it a name like "Lecture 02c" (or whatever)
  - Note that the file extension is .qmd

## Render the boilerplate content {.smaller}
  - To see how it works, read the boilerplate content
  - Now click the "Render" button to create the output file
  - A preview of the output will appear in the Viewer tab
  - In the File tab, we see a new .html file was created
  - We can share this .html file with others
  - It includes all the formatted text, code, and R results

## Remove the boilerplate content {.smaller}
  - The top part of the document is called the "Header"
  - You can change the title but keep it in quotes
  - Highlight and delete everything below the header
  - In the future, you can click "Create Empty Document"
  - Add `embed-resources: true` to the Header for assignments!
    
## Add an R Chunk {.smaller}
  - Option 1: Click the green box with C and a plus sign icon (top-right)
  - Option 2: Ctrl+Alt+I (Win) or Cmd+Option+I (Mac)
  - Option 3: Type out \`\`\`\{r\} then new line and \`\`\` yourself
    
## Adding code to the chunk {.smaller}
  - Anything you put inside the "fences" (i.e., \`\`\`) will be treated as R code
  - The chunk operates like a mini console
  - Try doing some calculations in the chunk and hit the green arrow
  - The answer appears right below the chunk!
  - If we save and render the document, it appears in the output too
  - We can add options to the chunk but we will return to this later


# Markdown

## Markdown

::: {.columns .pv4}
::: {.column width="60%"}
-   [Markdown](https://quarto.org/docs/authoring/markdown-basics.html) is a simple text-to-HTML conversion language used by Quarto, GitHub, Obsidian, etc.

::: {.fragment .mt1}
-   It will allow us to add formatted text, images, links, lists, etc. to our Quarto documents
:::

::: {.fragment .mt1}
-   Quarto will treat all text that is not in a code chunk as markdown
:::

:::

::: {.column .tc .pv5 width="40%"}
{{< lif "../../icons/text_box.json" trigger=hover colors=secondary:#2a76dd class=rc >}}
:::
:::

## Formatting {.fsmaller}

+-----------------------------------------+-----------------------------------------+
| Markdown                                | Output                                  |
+=========================================+=========================================+
| ``` markdown                            | *italics*, **bold**, ***bold italics*** |
| *italics*, **bold**, ***bold italics*** |                                         |
| ```                                     |                                         |
+-----------------------------------------+-----------------------------------------+
| ``` markdown                            | superscript^2^ / subscript~2~           |
| superscript^2^ / subscript~2~           |                                         |
| ```                                     |                                         |
+-----------------------------------------+-----------------------------------------+
| ``` markdown                            | ~~strikethrough~~                       |
| ~~strikethrough~~                       |                                         |
| ```                                     |                                         |
+-----------------------------------------+-----------------------------------------+
| ``` markdown                            | `verbatim code`                         |
| `verbatim code`                         |                                         |
| ```                                     |                                         |
+-----------------------------------------+-----------------------------------------+

## Headings {.fsmaller}

+------------------+-----------------------------------+
| Markdown         | Output                            |
+==================+===================================+
| ``` markdown     | # Heading 1 {.heading-output}     |
| # Heading 1      |                                   |
| ```              |                                   |
+------------------+-----------------------------------+
| ``` markdown     | ## Heading 2 {.heading-output}    |
| ## Heading 2     |                                   |
| ```              |                                   |
+------------------+-----------------------------------+
| ``` markdown     | ### Heading 3 {.heading-output}   |
| ### Heading 3    |                                   |
| ```              |                                   |
+------------------+-----------------------------------+
| ``` markdown     | #### Heading 4 {.heading-output}  |
| #### Heading 4   |                                   |
| ```              |                                   |
+------------------+-----------------------------------+

: {tbl-colwidths="[50, 50]"}

```{=html}
<style type="text/css">
.heading-output {
  border-bottom: none;
  margin-top: 0;
  margin-bottom: 0;
}
.vtop td {
  vertical-align: top !important;
}
</style>
```


## R Refresher {.smaller}
1. Mathematical Operations: `+ - * / ^ ( )`
1. Assignment and Naming: `<-`
1. Storing Text in Strings: `"text data"`
1. Using Built-in Functions: `sqrt(64)`
1. Creating and Using Vectors: `c(1, 2, 3)`
1. Installing New Packages: `install.packages("lme4")`
1. Importing Data from Files: `df <- read.csv("file.csv")`
