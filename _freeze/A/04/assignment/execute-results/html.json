{
  "hash": "1b833d9cdda872e9c74c8d2d9ff50f73",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 04: Data Processing for MLM\"\nsubtitle: \"PSYC 894 - Spring 2026\"\nformat: \n  html:\n    theme: cosmo\n    toc: true\n    number-sections: true\n---\n\n\n\n## Objective\n\nThe goal of this lab is to prepare data from a hypothetical clinical trial for multilevel modeling. You will demonstrate the skills covered in Lecture 04b, including:\n\n* Reshaping \"wide\" data into \"long\" format.\n* Parsing and cleaning variable names.\n* Calculating cluster-level summaries (Split-Apply-Combine).\n* Merging separate Level 1 and Level 2 data files.\n\n## Data Source\n\nDownload the following two CSV files from Canvas and save them in your project folder:\n\n1.  `anxiety_wide.csv`: Contains repeated anxiety scores for 50 patients over 4 weeks.\n2.  `patient_info.csv`: Contains demographic information (Age and Treatment Condition) for those same patients.\n\n## Instructions\n\n### Setup and Inspection\n\nCreate a new Quarto document for your lab report. Load the `tidyverse` package and read in the two CSV files using `read_csv()`.\n\nInspect the `anxiety_wide` object. Note that it is currently in **wide** format: there is one row per patient, but the anxiety scores are spread across multiple columns (`anxiety_wk1`, `anxiety_wk2`, etc.). This format is unsuitable for MLM and must be reshaped.\n\n### Reshape (Pivot)\n\nCreate a new object called `anxiety_long`. Use the `pivot_longer()` function to transform the wide anxiety data into **long** format.\n\n* **Cols:** Select the columns that start with the string \"anxiety\".\n* **Names:** Send the old column names to a new column called `\"week\"`.\n* **Values:** Send the scores to a new column called `\"anxiety\"`.\n\n### Clean the Data\n\nLook at your new `week` column. It currently contains character strings (e.g., `\"anxiety_wk1\"`). \n\nOverwrite the `week` column using `mutate()` and `parse_number()` to convert these strings into clean numbers (e.g., `1`).\n\n### Cluster-Level Summaries\n\nWe want to determine the **minimum** (best) anxiety score each patient reached during the study.\n\nUse `mutate()` to add this as a new column called `min_score` to your long dataset. You must use the `.by` argument (or `group_by()`) to ensure this calculation happens *per patient* (`patient_id`). \n\n*(Hint: You can use the `min()` function to find the lowest score).*\n\n### Merging Level 2 Data\n\nThe file `patient_info.csv` contains the study condition (Control vs. Treatment) for each person. This is Level 2 data.\n\nUse `left_join()` to merge this demographic info into your `anxiety_long` dataset. Join the two tables by the `patient_id` column.\n\n**Verification:** View your data to ensure the `condition` variable now appears for every time point (row) for each patient.\n\n### Visualization\n\nUse `ggplot()` to create a \"spaghetti plot\" of the study results:\n\n* Map `week` to the x-axis and `anxiety` to the y-axis.\n* Connect the data points with lines (`geom_line()`).\n* Group the lines by `patient_id` so we see individual trajectories.\n* Color the lines by `condition`.\n\n**Interpretation Question:**\nBased on your plot, does the Treatment group seem to improve (i.e., scores go down) faster than the Control group?\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}